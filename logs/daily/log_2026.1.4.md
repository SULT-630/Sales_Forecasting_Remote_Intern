# Daily Log — 2025-12-24

## Objective
- Run the model on the new task
- use feature importance to select feature

## Works done
- 模型代码已更改以适配新任务

## Key Findings
- 在数据集里面，相同week, sku_id, store_id就能完整表示一个相同状态
- 在原始数据集（加了discount，以及log变换）：
    - overall MAPE：10.4853
    - 最大MAPE：22.6374 at sku_id = 545621
    - 特征重要性：
        0           sku_id   22.884476
        1  is_discount_sku   17.826218
        2   is_display_sku   16.908337
        3  is_featured_sku   10.165929
        4         store_id    8.548273
        5      total_price    2.491251
        6   discount_ratio    2.274858
        7       base_price    1.753311
- 在做了特征工程之后：
    - overall MAPE：10.9545
    - 最大MAPE：25.2495 at sku_id = 545621
    - 特征重要性：
        0            rolling_mean_4_records   91.795082
        1                   is_featured_sku   73.247963
        2                    is_display_sku   62.642269
        3                    ewma_4_records   60.329418
        4                   is_discount_sku   38.938480
        5                    discount_ratio   10.001703
        6                            sku_id    5.343730
        7                       total_price    4.302957
        8                    ewma_3_records    3.366103
        9                          store_id    2.906142
        10                       base_price    2.604868
        11                        cos_month    2.332377
        12                          quarter    2.076344
        13          gap_since_lag_2_records    2.016497
        14          gap_since_lag_4_records    2.002003
        15          gap_since_lag_1_records    1.926844
        16                        sin_month    1.890433
        17                 cos_week_of_year    1.879181
        18                 sin_week_of_year    1.751856
        19            rolling_std_4_records    1.691020
        20  target_changing_rate_per_week_4    1.631941
        21                      lag_4_weeks    1.530615
        22            rolling_std_3_records    1.147688
        23                      lag_2_weeks    1.053680
        24                      lag_1_weeks    1.029085
        25           rolling_mean_2_records    1.024756
        26                   ewma_2_records    1.019284
        27           rolling_mean_3_records    1.009861
        28  target_changing_rate_per_week_2    0.998436
        29  target_changing_rate_per_week_1    0.951324
        30            rolling_std_2_records    0.802196
## Issues Encountered
- Data leakage also appear even if I only select the last week
## How Issues Were Resolved
- checking only one line of data for same week, sku_id, store_id, then apply sort_values with the three and group_by with sku_id and store_id
## Problems

## Next Steps
2025.9.12 - 2031.10.11