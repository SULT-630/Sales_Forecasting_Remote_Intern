# Daily Log — 2025-12-17

## Objective
- Complete EDA on the dataset
- Structure cleaning
- Type and Semantics check
- Deal with missing value
- Deal with repeated value
- Deal with outliers (include incorrect and trend-related outliers)
- Basic analysis and visualization
- Trend detection ()

## Work Done
- Data shape and structure
- Data transformation and semantic check
- Feature of is_discount_sku and discount_ratio added
- Missing value and ratio (pattern)
- Repeated value
- Univariate analysis (distribution and cardinality)
- Outliers 有模式的/明显错误的

## Key Findings
- dtype of week, store id, sku id, is featured sku and is display sku need to be transformed 
- Only one missing value occur in the col of total price, thus we decide to directly delete it
- During semantics check, we found that all cols pass data quality assessment but, however,  there're 2.26% of the cases where total price is larger than base price
- No repeated rows detected
- For continuous numeric variable:
    - total price: 轻度右偏，波动较大，但对于价格的现实意义来说比较合理，建模时考虑log变换或者标准化
    - base price：右偏程度更高，离散结构和total price类似
    - discount ratio： 绝大部分商品没有折扣，不能单独当作连续变量考虑，而是与is_discount的flag一起考虑，只有当flag为1时才考虑折扣率
    - KDE曲线显示价格数据中有四个峰，可能代表有四个价格层级，未来建模中可以考虑分组分析
    - 主流价格带在133-234之间，箱图显示价格变量右侧有大量outliers，base price 占比为11.4%，total_price 占比为8.01%，但越靠近whisker的部分分布越密集，且全部存在右侧，认为存在模式，且商品包含高价区间完全合理，所以决定不删除 (目前为混合分布，在多变量分析中，基于相同sku id的离散程度会更合理)
- For category variable:
    - 对于二元flag变量： is_featured_sku = 1 的数量最少，但也占比0.096，是健康的flag，但由于业务意义，考虑对销量以及促销的交互效应
    - 对于store-id: 最大样本容器的store占比仅2%，代表没有极端大和极端小门店，分布很健康，不存在稀疏
    - 对于sku_id: 仅有28个不同的sku，可以直接采用独热编码，也可以分类建模，分布依旧健康，最少也有130个样本
- For discrete variable:
    - 对于units sold: 极度右偏，极长右尾，由于std大于mean，离散度较高； 不存在0值，也全部为正整数，为了解释度选择NB，为了精度选择log

## Issues Encountered


## How Issues Were Resolved
- 模型选择的原因，为什么不同目的是选择NB or log回归，以及我们的项目里是不是同时需要解释度和精度；我可以分开的用NB来得出解释的结论然后再用log回归确定预测值，还是我必须对两类目标都使用同一种方法，最后比较结论

## Problems


## Next Steps
- Decide how to solve the cases where total price > base price